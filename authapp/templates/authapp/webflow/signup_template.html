{% load static %}
<!DOCTYPE html>
<html lang="en" data-wf-domain="andas-login-template.webflow.io" data-wf-page="689e5470b03c6ab5b3dcd9fd" data-wf-site="689e546fb03c6ab5b3dcd9bf" class="w-mod-js wf-active">
<head>
  <meta charset="UTF-8">
  <title>Sign Up</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Webflow">

  <!-- CSS -->
  <link href="/static/authapp/webflow/login_template_files/andas-login-template.webflow.shared.e068d9fdb.css" rel="stylesheet" type="text/css">
  <link href="/static/authapp/webflow/login_template_files/css" rel="stylesheet" media="all">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/" rel="preconnect">
  <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin="anonymous">

  <!-- WebFont Loader -->
  <script src="/static/authapp/webflow/login_template_files/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">
    WebFont.load({
      google: { families: ["Outfit:100,200,300,regular,500,600,700,800,900"] }
    });
  </script>

  <!-- Webflow JS Detection -->
  <script type="text/javascript">
    !function(o,c){
      var n=c.documentElement, t=" w-mod-";
      n.className += t+"js";
      ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t+"touch");
    }(window, document);
  </script>

</head>
<body class="body">
  <div class="page-wrapper">
    <main class="main-wrapper">
      <section class="section_login">
        <div class="padding-global">
          <div class="container-large">
            <div class="login_wrap">
              <img src="/static/authapp/webflow/login_template_files/689e5470b03c6ab5b3dcda17_dot-grid-svgrepo-com (2).svg" loading="lazy" alt="" class="login_dot-image">
              <div class="w-layout-grid login_grid">
                <div class="login_left-wrap">
                  <img src="/static/authapp/webflow/login_template_files/689e5470b03c6ab5b3dcda18_66acdc30f02db3e5de369b40_Bay_reservations-transformed.png"
                       loading="lazy"
                       sizes="(max-width: 700px) 100vw, 700px"
                       alt=""
                       class="login_main-image">
                </div>
                <div class="login_right-wrap">
                  <h1 class="text-size-large">Create Account</h1>
                  <div class="text-size-regular">Join as a new user</div>

                  <!-- Signup Form -->
                  <div class="w-form">
                    <form id="wf-signup-form" method="post" class="form">
                      {% csrf_token %}
                      <div id="wf-error-messages"></div>

                      <input class="login_text-field w-input" type="text" id="signup-username" name="username" placeholder="Username" required>
                      <input class="login_text-field w-input" type="text" id="signup-firstname" name="firstname" placeholder="First name" required>
                      <input class="login_text-field w-input" type="text" id="signup-lastname" name="lastname" placeholder="Last name" required>
                      <input class="login_text-field w-input" type="email" id="signup-email" name="email" placeholder="Email" required>
                      <input class="login_text-field w-input" type="password" id="signup-password1" name="password1" placeholder="Password" required>
                      <input class="login_text-field w-input" type="password" id="signup-password2" name="password2" placeholder="Confirm Password" required>

                      <div class="login_button-wrap">
                        <button type="submit" id="signup-btn" class="login_submit-button w-button">Sign Up</button>
                      </div>
                    </form>
                    <div class="w-form-done" tabindex="-1" role="region"><div>Thank you! Your account has been created!</div></div>
                    <div class="w-form-fail" tabindex="-1" role="region"><div>Oops! Something went wrong while submitting the form.</div></div>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Scripts -->
  <script src="/static/authapp/webflow/login_template_files/jquery-3.5.1.min.dc5e7f18c8.js"></script>
  <script src="/static/authapp/webflow/login_template_files/webflow.schunk.fb28fe0fe28a6845.js"></script>
  <script src="/static/authapp/webflow/login_template_files/webflow.94b339a6.ca1de0e0bcdf7f25.js"></script>

  <!-- Django Signup JS -->
  <script>
    document.getElementById('wf-signup-form').addEventListener('submit', function(event) {
      event.preventDefault();

      const formData = new FormData(this);

      fetch("{% url 'signup' %}", {
        method: 'POST',
        body: formData,
        headers: {
          'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
        }
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          window.location.href = data.redirect_url;
        } else {
          document.getElementById('wf-error-messages').innerHTML = JSON.stringify(data.errors);
        }
      })
      .catch(error => console.error('Error:', error));
    });
  </script>

</body>
</html>
