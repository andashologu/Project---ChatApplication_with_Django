# Explaining group managements in  Websockets

## channel_name V.S group_name

- channel_name is the unique WebSocket connection of a specific client. The owner of channel_name is determined by the details in the `scope` object. Specifically, the `scope['user']` or `scope['url_route']['kwargs']` holds information like the user’s identity or username, which allows you to know who owns each WebSocket connection, even though channel_name is just a unique identifier for that connection.
- channel_name is subscribed to or part of a group/groups
- `self.channel_name` is a unique identifier for the WebSocket connection (generated by Django Channels).
  `self.scope` tells you who owns this WebSocket connection. It either stores **the authenticated user** or **the username passed via the URL**. Using this, you can associate the WebSocket connection (channel_name) with a specific user.


Client 1
+-------------------------------------------+
| channelname = A                           |  <-- Client 1’s WebSocket connection
+-------------------------------------------+
      |                                  |
      v                                  v
+-----------------------+          +-----------------------+
|    group_A            |          |    group_B            |  <-- Client 1 is part of both groups
+-----------------------+          +-----------------------+

Client 2
+-------------------------------------------+
| channelname = B                           |  <-- Client 2’s WebSocket connection
+-------------------------------------------+
                                          |
                                          v
                               +-----------------------+
                               |    group_B            |  <-- Client 2 is only part of group_B
                               +-----------------------+

Explanation:

* Client 1 (channelname = A ) is subscribed to both group_A and group_B, which means:

       - If a message is sent to group_A, only Client 1 will receive it because Client 2 is not part of group_A.
       - If a message is sent to group_B, both Client 1 and Client 2 will receive it because both are members of group_B.

* Client 2 (channelname = B ) is only subscribed to group_B, which means:

       - Client 2 will only receive messages sent to group_B. They will not receive any messages sent to group_A, as they are not part of that group.

______________________________________________________________________________________________________________________

# Example: Online/Offline Status

* When User 1 connects, their channel name (channel_abc) is first added to group chat_1.
* If User 1 subscribes to chat_2, their channel name (channel_abc) is also added to chat_2.


+----------------------------------+
|        channel_layer             |  <-- Manages all communication
+----------------------------------+
| room_group_name | channel_name   |
|-----------------|----------------|
|   chat_1        |   channel_abc  |  <-- User 1's WebSocket is added to chat_1
|   chat_2        |   channel_abc  |  <-- User 1 is also subscribed to chat_2
|   chat_3        |   channel_abc  |  <-- User 1 is also subscribed to chat_3
|   chat_2        |   channel_xyz  |  <-- User 2's WebSocket is subscribed to chat_2
|   chat_3        |   channel_def  |  <-- User 3's WebSocket is subscribed to chat_3
+----------------------------------+

# Online/Offline Status Flow:

1. User 2 (channel_xyz) connects:
   - User 2 is subscribed to **chat_2**.
   - User 1 (channel_abc) is subscribed to **chat_2**.
   - A **message is broadcast to chat_2** informing **User 1** is online.
   - `channel_xyz`(User 2) and `channel_abc` (User 1) recieve the message

2. in the same way when User 2 disconnects.
   






